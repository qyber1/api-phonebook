## Запуск проекта

1. Склонируйте репозиторий из GitHub:

```code
https://github.com/qyber1/api-phonebook.git
```
2. В корне проекта, файл **.env.postgres.example** заполнить данными и переименовать в **.env**:
   
LOGIN = логин пользователя БД  
PASS = пароль пользователя БД  
DBANME = имя БД  
**Этот файл будет использоваться для docker-compos**  

3. Так же необходимо заполнить данными дополнительный .env файл. котоырый находится по пути `app/utils` следующими данными:

LOGIN = логин пользователя БД  
PASS = пароль пользователя БД  
DBANME = имя БД  
HOST=postgres  
CODE=code-for-upgrade-profile  
SECRET_KEY=secret-key-for-generate-jwt-token  
ALGORITHM=algorithm-for-generate-jwt-token  
**Этот файл будет использоваться для приложения**    

4. Запустите Docker Compose:

`docker-compose up -d`

5. Выполнить начальную миграцию БД:

`docker exec web alembic upgrade head`


## Функционал 

Есть две категории пользователей:  
- default  
- admin  

Пользователь с ролью `default` - может запросить информацию о себе, повысить роль, а так же запросить карточки из телефонного справочника. Для того, чтобы повысить свою роль до `admin` необходимо отправить POST запрос на endpoint `/upgrade_profile` с кодовым словом, который установлен в .env файле   

Пользователь с ролью `admin` - может тоже самое + добавлять/обновлять/удалять карточки телефонного справчника  


**Для более подробной документации и тестированию функционала можно перейти на endpoint `\docs`**

